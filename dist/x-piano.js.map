{"version":3,"file":"x-piano.js","mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;;;;;;;;;;;;;;ACVO;AACP;AACA;AACA;;AAEA;AACA,wBAAwB;AACxB;;AAEA;AACA;;AAEA,wBAAwB,cAAc;AACtC;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,iCAAiC;AACjC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,8BAA8B,cAAc;AAC5C;;AAEA;;AAEA;AACA,8CAA8C,MAAM;AACpD;;AAEA;;AAEA;AACA,qCAAqC,QAAQ;AAC7C;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,uCAAuC,MAAM;AAC7C;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,0DAA0D,QAAQ;AAClE;;AAEA;;AAEA;AACA,0DAA0D,OAAO;AACjE;;AAEA;;AAEA;AACA,0DAA0D,SAAS;AACnE;;AAEA;;AAEA;AACA,0DAA0D,SAAS;AACnE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;UCxXA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;ACNa;;AAEwB;;AAErC,wCAAwC,8CAAM","sources":["webpack://xsound/webpack/universalModuleDefinition","webpack://xsound/./src/XPiano.js","webpack://xsound/webpack/bootstrap","webpack://xsound/webpack/runtime/define property getters","webpack://xsound/webpack/runtime/hasOwnProperty shorthand","webpack://xsound/webpack/runtime/make namespace object","webpack://xsound/./src/index.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"xsound\"] = factory();\n\telse\n\t\troot[\"xsound\"] = factory();\n})(self, () => {\nreturn ","export class XPiano extends HTMLElement {\n  static get observedAttributes() {\n    return ['ui-only', 'type', 'volume', 'octave', 'transpose', 'glide', 'attack', 'decay', 'sustain', 'release'];\n  }\n\n  /** @override */\n  constructor(state = {}) {\n    super();\n\n    this.state = state;\n    this.isDown = false;\n\n    this.attachShadow({ mode: 'open' });\n    this.render();\n  }\n\n  connectedCallback() {\n    X('oscillator').setup([true]);\n\n    this.setAttributes();\n\n    for (const button of this.shadowRoot.querySelectorAll('button[type=\"button\"]')) {\n      button.addEventListener('mousedown', this.onDown.bind(this), false);\n      button.addEventListener('mouseup', this.onUp.bind(this), false);\n      button.addEventListener('mouseenter', this.onEnter.bind(this), false);\n      button.addEventListener('mouseleave', this.onLeave.bind(this), false);\n      button.addEventListener('touchstart', this.onDown.bind(this), false);\n      button.addEventListener('touchend', this.onUp.bind(this), false);\n    }\n  }\n\n  disconnectedCallback() {\n    for (const button of this.shadowRoot.querySelectorAll('button[type=\"button\"]')) {\n      button.removeEventListener('mousedown', this.onDown.bind(this), false);\n      button.removeEventListener('mouseup', this.onUp.bind(this), false);\n      button.removeEventListener('mouseenter', this.onEnter.bind(this), false);\n      button.removeEventListener('mouseleave', this.onLeave.bind(this), false);\n      button.removeEventListener('touchstart', this.onDown.bind(this), false);\n      button.removeEventListener('touchend', this.onUp.bind(this), false);\n    }\n  }\n\n  adoptedCallback() {\n    // Noop ...\n  }\n\n  attributeChangedCallback() {\n    this.setAttributes();\n  }\n\n  onDown(event) {\n    const button = event.currentTarget;\n\n    button.classList.add('-on');\n\n    this.isDown = true;\n\n    if (this.hasAttribute('ui-only')) {\n      return;\n    }\n\n    const index = Number(button.getAttribute('data-index'));\n    const frequency = X.toFrequencies([index]);\n\n    X('oscillator').start(frequency);\n  }\n\n  onUp(event) {\n    const button = event.currentTarget;\n\n    button.classList.remove('-on');\n\n    this.isDown = false;\n\n    if (this.hasAttribute('ui-only')) {\n      return;\n    }\n\n    X('oscillator').stop();\n  }\n\n  onEnter(event) {\n    if (!this.isDown) {\n      return;\n    }\n\n    const button = event.currentTarget;\n\n    button.classList.add('-on');\n\n    if (this.hasAttribute('ui-only')) {\n      return;\n    }\n\n    const index = Number(button.getAttribute('data-index'));\n    const frequency = X.toFrequencies([index]);\n\n    X('oscillator').start(frequency);\n  }\n\n  onLeave(event) {\n    if (!this.isDown) {\n      return;\n    }\n\n    const button = event.currentTarget;\n\n    button.classList.remove('-on');\n\n    if (this.hasAttribute('ui-only')) {\n      return;\n    }\n\n    X('oscillator').stop();\n  }\n\n  setState(newState) {\n    this.state = Object.assign({}, this.state, newState);\n    this.render();\n  }\n\n  setAttributes() {\n    if (typeof X('oscillator').get(0).param !== 'function') {\n      return;\n    }\n\n    const mastervolume = Number(this.getAttribute('volume'));\n\n    if (mastervolume >= 0 && mastervolume <= 1) {\n      X('oscillator').param({ mastervolume });\n    }\n\n    const time = Number(this.getAttribute('glide'));\n\n    if (time >= 0) {\n      X('oscillator').module('glide').param({ time });\n    }\n\n    const octave = Number(this.getAttribute('octave'));\n\n    if (octave >= -4 && octave <= 4) {\n      X('oscillator').get(0).param({ octave });\n    }\n\n    const type = this.getAttribute('type');\n\n    switch (type) {\n      case 'sine':\n      case 'square':\n      case 'sawtooth':\n      case 'triangle': {\n        X('oscillator').get(0).param({ type });\n        break;\n      }\n\n      default: {\n        break;\n      }\n    }\n\n    const attack = Number(this.getAttribute('attack'));\n\n    if (attack >= 0 && attack <= 1) {\n      X('oscillator').module('envelopegenerator').param({ attack });\n    }\n\n    const decay = Number(this.getAttribute('decay'));\n\n    if (decay >= 0 && decay <= 1) {\n      X('oscillator').module('envelopegenerator').param({ decay });\n    }\n\n    const sustain = Number(this.getAttribute('sustain'));\n\n    if (sustain >= 0 && sustain <= 1) {\n      X('oscillator').module('envelopegenerator').param({ sustain });\n    }\n\n    const release = Number(this.getAttribute('release'));\n\n    if (sustain >= 0 && sustain <= 1) {\n      X('oscillator').module('envelopegenerator').param({ release });\n    }\n  }\n\n  render() {\n    this.shadowRoot.innerHTML = `\n      <style>\n        .Piano {\n          position: relative;\n          z-index: 1;\n          margin: 0 auto;\n          border-top: 44px solid #1b1b1b;\n          border-right: 16px solid #1b1b1b;\n          border-bottom: 16px solid #1b1b1b;\n          border-left: 16px solid #1b1b1b;\n          width: 1196px;\n          height: 150px;\n          transition: opacity ease 0.6s;\n        }\n\n        :host([loading]) .Piano {\n          opacity: 0.2;\n        }\n\n        .Piano__white {\n          position: absolute;\n          top: 0;\n          left: 0;\n          z-index: 2;\n          margin: 0;\n          padding: 0;\n          list-style: none;\n          display: grid;\n          grid-template-columns: repeat(52, 23px);\n        }\n\n        .Piano__black {\n          position: absolute;\n          top: 0;\n          left: 17.5px;\n          z-index: 3;\n          margin: 0;\n          padding: 0;\n          list-style: none;\n          display: grid;\n          grid-template-columns: repeat(50, 11px);\n          grid-column-gap: 12px;\n        }\n\n        .Piano > ol > li > button[type=\"button\"] {\n          cursor: pointer;\n          user-select: none;\n          box-sizing: border-box;\n          border: none;\n          padding: 0;\n          background: none;\n        }\n\n        .Piano > .Piano__white > li > button[type=\"button\"] {\n          border: 2px outset #eee;\n          width: 23px;\n          height: 150px;\n          background-color: #fff;\n        }\n\n        .Piano > .Piano__black > li > button[type=\"button\"] {\n          border: 2px outset #333;\n          width: 11px;\n          height: 95px;\n          background-color: #333;\n        }\n\n        .Piano > .Piano__white > li > button[type=\"button\"].-on {\n          background-color: #eee;\n        }\n\n        .Piano > .Piano__black > li > button[type=\"button\"].-on {\n          background-color: #000;\n        }\n\n        .Piano > ol > li.-skip {\n          width: 11px;\n          height: 95px;\n          visibility: hidden;\n        }\n      </style>\n      <div class=\"Piano\">\n        <ol class=\"Piano__black\">\n          <li><button type=\"button\" data-index=\"1\" aria-label=\"1\" /></li>\n          <li class=\"-skip\"></li>\n          <li><button type=\"button\" data-index=\"4\" aria-label=\"4\" /></li>\n          <li><button type=\"button\" data-index=\"6\" aria-label=\"6\" /></li>\n          <li class=\"-skip\"></li>\n          <li><button type=\"button\" data-index=\"9\" aria-label=\"9\" /></li>\n          <li><button type=\"button\" data-index=\"11\" aria-label=\"11\" /></li>\n          <li><button type=\"button\" data-index=\"13\" aria-label=\"13\" /></li>\n          <li class=\"-skip\"></li>\n          <li><button type=\"button\" data-index=\"16\" aria-label=\"16\" /></li>\n          <li><button type=\"button\" data-index=\"18\" aria-label=\"18\" /></li>\n          <li class=\"-skip\"></li>\n          <li><button type=\"button\" data-index=\"21\" aria-label=\"21\" /></li>\n          <li><button type=\"button\" data-index=\"23\" aria-label=\"23\" /></li>\n          <li><button type=\"button\" data-index=\"25\" aria-label=\"25\" /></li>\n          <li class=\"-skip\"></li>\n          <li><button type=\"button\" data-index=\"28\" aria-label=\"28\" /></li>\n          <li><button type=\"button\" data-index=\"30\" aria-label=\"30\" /></li>\n          <li class=\"-skip\"></li>\n          <li><button type=\"button\" data-index=\"33\" aria-label=\"33\" /></li>\n          <li><button type=\"button\" data-index=\"35\" aria-label=\"35\" /></li>\n          <li><button type=\"button\" data-index=\"37\" aria-label=\"37\" /></li>\n          <li class=\"-skip\"></li>\n          <li><button type=\"button\" data-index=\"40\" aria-label=\"40\" /></li>\n          <li><button type=\"button\" data-index=\"42\" aria-label=\"42\" /></li>\n          <li class=\"-skip\"></li>\n          <li><button type=\"button\" data-index=\"45\" aria-label=\"45\" /></li>\n          <li><button type=\"button\" data-index=\"47\" aria-label=\"47\" /></li>\n          <li><button type=\"button\" data-index=\"49\" aria-label=\"49\" /></li>\n          <li class=\"-skip\"></li>\n          <li><button type=\"button\" data-index=\"52\" aria-label=\"52\" /></li>\n          <li><button type=\"button\" data-index=\"54\" aria-label=\"54\" /></li>\n          <li class=\"-skip\"></li>\n          <li><button type=\"button\" data-index=\"57\" aria-label=\"57\" /></li>\n          <li><button type=\"button\" data-index=\"59\" aria-label=\"59\" /></li>\n          <li><button type=\"button\" data-index=\"61\" aria-label=\"61\" /></li>\n          <li class=\"-skip\"></li>\n          <li><button type=\"button\" data-index=\"64\" aria-label=\"64\" /></li>\n          <li><button type=\"button\" data-index=\"66\" aria-label=\"66\" /></li>\n          <li class=\"-skip\"></li>\n          <li><button type=\"button\" data-index=\"69\" aria-label=\"69\" /></li>\n          <li><button type=\"button\" data-index=\"71\" aria-label=\"71\" /></li>\n          <li><button type=\"button\" data-index=\"73\" aria-label=\"73\" /></li>\n          <li class=\"-skip\"></li>\n          <li><button type=\"button\" data-index=\"76\" aria-label=\"76\" /></li>\n          <li><button type=\"button\" data-index=\"78\" aria-label=\"78\" /></li>\n          <li class=\"-skip\"></li>\n          <li><button type=\"button\" data-index=\"81\" aria-label=\"81\" /></li>\n          <li><button type=\"button\" data-index=\"83\" aria-label=\"83\" /></li>\n          <li><button type=\"button\" data-index=\"85\" aria-label=\"85\" /></li>\n        </ol>\n        <ol class=\"Piano__white\">\n          <li><button type=\"button\" data-index=\"0\" aria-label=\"0\" /></li>\n          <li><button type=\"button\" data-index=\"2\" aria-label=\"2\" /></li>\n          <li><button type=\"button\" data-index=\"3\" aria-label=\"3\" /></li>\n          <li><button type=\"button\" data-index=\"5\" aria-label=\"5\" /></li>\n          <li><button type=\"button\" data-index=\"7\" aria-label=\"7\" /></li>\n          <li><button type=\"button\" data-index=\"8\" aria-label=\"8\" /></li>\n          <li><button type=\"button\" data-index=\"10\" aria-label=\"10\" /></li>\n          <li><button type=\"button\" data-index=\"12\" aria-label=\"12\" /></li>\n          <li><button type=\"button\" data-index=\"14\" aria-label=\"14\" /></li>\n          <li><button type=\"button\" data-index=\"15\" aria-label=\"15\" /></li>\n          <li><button type=\"button\" data-index=\"17\" aria-label=\"17\" /></li>\n          <li><button type=\"button\" data-index=\"19\" aria-label=\"19\" /></li>\n          <li><button type=\"button\" data-index=\"20\" aria-label=\"20\" /></li>\n          <li><button type=\"button\" data-index=\"22\" aria-label=\"22\" /></li>\n          <li><button type=\"button\" data-index=\"24\" aria-label=\"24\" /></li>\n          <li><button type=\"button\" data-index=\"26\" aria-label=\"26\" /></li>\n          <li><button type=\"button\" data-index=\"27\" aria-label=\"27\" /></li>\n          <li><button type=\"button\" data-index=\"29\" aria-label=\"29\" /></li>\n          <li><button type=\"button\" data-index=\"31\" aria-label=\"31\" /></li>\n          <li><button type=\"button\" data-index=\"33\" aria-label=\"33\" /></li>\n          <li><button type=\"button\" data-index=\"34\" aria-label=\"34\" /></li>\n          <li><button type=\"button\" data-index=\"36\" aria-label=\"36\" /></li>\n          <li><button type=\"button\" data-index=\"38\" aria-label=\"38\" /></li>\n          <li><button type=\"button\" data-index=\"39\" aria-label=\"39\" /></li>\n          <li><button type=\"button\" data-index=\"41\" aria-label=\"41\" /></li>\n          <li><button type=\"button\" data-index=\"43\" aria-label=\"43\" /></li>\n          <li><button type=\"button\" data-index=\"44\" aria-label=\"44\" /></li>\n          <li><button type=\"button\" data-index=\"46\" aria-label=\"46\" /></li>\n          <li><button type=\"button\" data-index=\"48\" aria-label=\"48\" /></li>\n          <li><button type=\"button\" data-index=\"50\" aria-label=\"50\" /></li>\n          <li><button type=\"button\" data-index=\"51\" aria-label=\"51\" /></li>\n          <li><button type=\"button\" data-index=\"53\" aria-label=\"53\" /></li>\n          <li><button type=\"button\" data-index=\"55\" aria-label=\"55\" /></li>\n          <li><button type=\"button\" data-index=\"56\" aria-label=\"56\" /></li>\n          <li><button type=\"button\" data-index=\"58\" aria-label=\"58\" /></li>\n          <li><button type=\"button\" data-index=\"60\" aria-label=\"60\" /></li>\n          <li><button type=\"button\" data-index=\"62\" aria-label=\"62\" /></li>\n          <li><button type=\"button\" data-index=\"63\" aria-label=\"63\" /></li>\n          <li><button type=\"button\" data-index=\"65\" aria-label=\"65\" /></li>\n          <li><button type=\"button\" data-index=\"67\" aria-label=\"67\" /></li>\n          <li><button type=\"button\" data-index=\"68\" aria-label=\"68\" /></li>\n          <li><button type=\"button\" data-index=\"70\" aria-label=\"70\" /></li>\n          <li><button type=\"button\" data-index=\"72\" aria-label=\"72\" /></li>\n          <li><button type=\"button\" data-index=\"74\" aria-label=\"74\" /></li>\n          <li><button type=\"button\" data-index=\"75\" aria-label=\"75\" /></li>\n          <li><button type=\"button\" data-index=\"77\" aria-label=\"77\" /></li>\n          <li><button type=\"button\" data-index=\"79\" aria-label=\"79\" /></li>\n          <li><button type=\"button\" data-index=\"80\" aria-label=\"80\" /></li>\n          <li><button type=\"button\" data-index=\"82\" aria-label=\"82\" /></li>\n          <li><button type=\"button\" data-index=\"84\" aria-label=\"84\" /></li>\n          <li><button type=\"button\" data-index=\"86\" aria-label=\"86\" /></li>\n          <li><button type=\"button\" data-index=\"87\" aria-label=\"87\" /></li>\n        </ol>\n      </div>`;\n  }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","'use strict';\n\nimport { XPiano } from './XPiano.js';\n\nwindow.customElements.define('x-piano', XPiano);\n"],"names":[],"sourceRoot":""}